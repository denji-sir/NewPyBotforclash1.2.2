# 🏆 Расширенная система достижений NewPyBot

## 🎯 **Обзор системы**

Комплексная система достижений, выходящая за рамки базовых достижений по активности. Включает игровые, командные, временные, специальные и мета-достижения для максимального вовлечения пользователей.

### **Категории достижений:**
- 🎮 **Игровые** - прогресс в Clash of Clans
- 👥 **Командные** - участие в войнах и рейдах
- ⏰ **Временные** - события и праздники
- ⭐ **Специальные** - уникальные для кланов
- 🏅 **Мета-достижения** - за получение других достижений

---

## 🎮 **Игровые достижения (CoC прогресс)**

──────────────────────────┘
```

─────────────────────────────────┘
```




---

## 👥 **Командные достижения**

### **1. Участие в войнах кланов**
```
⚔️ Клановые войны (за наш клан из ситсемы паспортов)
┌─────────────────────────────────────┐
│ 🛡️ Новобранец (1 война)            │
│ ⚔️ Воин клана (10 войн)            │
│ 🏆 Ветеран войн (50 войн)          │
│ 👑 Военачальник (100 войн)         │
│ 🌟 Легенда клана (250 войн)        │
└─────────────────────────────────────┘



### **2. Лига войн кланов (CWL)**
```
🏆 Лига войн (в наших кланах)
┌─────────────────────────────────────┐
│ 🥉 Участник лиги (1 CWL)           │
│ 🥈 Боец лиги (5 CWL)               │
│ 🥇 Мастер лиги (15 CWL)            │
│ 💎 Чемпион лиги (30 CWL)           │
│ 🌟 Король лиги (50 CWL)            │
└─────────────────────────────────────┘

каждый месяц присваиваются новым игрокам ! месячный статус CWL:
• 🎖️ Звездочёт - больше всех звезд за сезон
• 👑 Непобедимый - лучшая серия в клане.
• 🔥 Огонь лиги - лучший по всем параметрам
```


### **4. Донат и кооперация**
```
🤝 Поддержка клана:
┌─────────────────────────────────────┐
│ 🎁 Помощник (1,000 донаций)        │
│ 💝 Благодетель (10,000 донаций)    │
│ 🏆 Меценат (50,000 донаций)        │
│ 👑 Спонсор клана (100K+ донаций)   │
│ 🌟 Легенда пожертваваний (250K+ донаций)  │
└─────────────────────────────────────┘

Особые достижения доната:
• ❤️ Душа клана - в течении 3 месяцев 10 тысяч + по донату
```

---


```



### **3. Юбилейные достижения**
```
📅 Временные вехи (в будущем):
┌─────────────────────────────────────┐
│ 🥉 1 месяц в клане                 │
│ 🥈 6 месяцев в клане               │
│ 🥇 1 год в клане                   │
│ 💎 2 года в клане                  │
│ 🌟 Ветеран клана (3+ года)         │
└─────────────────────────────────────┘

Особые временные достижения:
• ⚡ Молния - онлайн каждый день месяц
• 🔥 Неугасимый - активность 100 дней подряд
• 💪 Упорный - не пропустил ни одной войны за год
```

---

## ⭐ **Специальные достижения**

### **1. Уникальные достижения кланов**
```







---

## 🏅 **Мета-достижения**

### **1. Коллекционер достижений**
```
📚 Собиратель наград:
┌─────────────────────────────────────┐
│ 🥉 Начинающий коллекционер (5)     │
│ 🥈 Опытный коллекционер (15)       │
│ 🥇 Мастер коллекционер (30)        │
│ 💎 Легендарный коллекционер (50)   │
│ 🌟 Абсолютный чемпион (75+)        │
└─────────────────────────────────────┘
```

### **2. Скоростные достижения**
```
⚡ Рекордсмен: скоро, не сейчас
┌─────────────────────────────────────┐
│ 🚀 Быстрый старт (5 достижений/неделя) │
│ ⚡ Спринтер (10 достижений/месяц)      │
│ 🏃 Марафонец (стабильный прогресс)    │
│ 🔥 Неудержимый (20 подряд)            │
│ 💨 Молниеносный (все за год)          │
└─────────────────────────────────────┘
```

### **3. Категориальные мастера**
```
🎯 Специализация:
┌─────────────────────────────────────┐
│ 🎮 Мастер игры (все игровые)       │
│ 👥 Командный игрок (все командные)  │
│ 🌟 Универсал (по одному из каждой) │
│ 💎 Перфекционист (максимум везде)   │
│ 👑 Абсолютный чемпион (100% всех)  │
└─────────────────────────────────────┘
```

---

## 🎯 **Система прогресса и уровней**

### **Уровни достижений:**
```
📊 Градация сложности:
┌─────────────────────────────────────┐
│ 🥉 Бронзовые - базовые (1-10)      │
│ 🥈 Серебряные - средние (11-25)    │
│ 🥇 Золотые - сложные (26-50)       │
│ 💎 Алмазные - очень сложные (51-75)│
│ 🌟 Легендарные - эпические (76-100)│
└─────────────────────────────────────┘
```

### **Система очков достижений:**
- 🥉 Бронзовые: 10 очков
- 🥈 Серебряные: 25 очков  
- 🥇 Золотые: 50 очков
- 💎 Алмазные: 100 очков
- 🌟 Легендарные: 250 очков

### **Ранги в паспорте:**
```
🏆 Ранговая система:
┌─────────────────────────────────────┐
│ 0-99 очков: 🥉 Новичок             │
│ 100-299 очков: 🥈 Активист         │
│ 300-699 очков: 🥇 Ветеран          │
│ 700-1499 очков: 💎 Эксперт        │
│ 1500+ очков: 🌟 Легенда           │
└─────────────────────────────────────┘
```

---

## 📊 **Таблица БД для расширенных достижений**

### **Обновленная схема достижений:**
```sql
CREATE TABLE extended_achievements (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    
    -- Основная информация
    achievement_id TEXT NOT NULL,        -- Уникальный ID достижения
    category TEXT NOT NULL,              -- 'game', 'team', 'seasonal', 'special', 'meta'
    subcategory TEXT,                    -- 'townhall', 'trophies', 'wars', etc.
    name TEXT NOT NULL,                  -- Название достижения
    description TEXT,                    -- Описание условий
    
    -- Уровни и прогресс
    achievement_level INTEGER DEFAULT 1, -- Уровень (бронза, серебро, золото...)
    points INTEGER DEFAULT 0,            -- Очки за достижение
    rarity TEXT DEFAULT 'common',        -- common/rare/epic/legendary
    
    -- Условия выполнения
    required_value INTEGER,              -- Необходимое значение
    current_value INTEGER DEFAULT 0,     -- Текущий прогресс
    is_completed BOOLEAN DEFAULT FALSE,
    completion_percentage INTEGER DEFAULT 0,
    
    -- Временные рамки
    is_seasonal BOOLEAN DEFAULT FALSE,   -- Сезонное достижение
    season_id TEXT,                     -- ID сезона/события
    expires_at DATETIME,                -- Дата истечения
    
    -- Специальные флаги
    is_hidden BOOLEAN DEFAULT FALSE,     -- Скрытое достижение
    is_clan_specific BOOLEAN DEFAULT FALSE, -- Уникально для клана
    clan_id INTEGER,                    -- Клан для которого уникально
    
    -- Метаданные
    unlocked_at DATETIME,               -- Когда разблокировано
    completed_at DATETIME,              -- Когда выполнено
    notified_at DATETIME,               -- Когда уведомили
    
    -- Связи
    FOREIGN KEY (user_id) REFERENCES user_passports(user_id),
    FOREIGN KEY (clan_id) REFERENCES registered_clans(id),
    
    -- Индексы
    UNIQUE(user_id, achievement_id),
    INDEX idx_achievements_user (user_id),
    INDEX idx_achievements_category (category),
    INDEX idx_achievements_completed (is_completed),
    INDEX idx_achievements_seasonal (is_seasonal, expires_at)
);
```

### **Таблица шаблонов достижений:**
```sql
CREATE TABLE achievement_templates (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    achievement_id TEXT UNIQUE NOT NULL,
    
    -- Основная информация
    name TEXT NOT NULL,
    description TEXT NOT NULL,
    category TEXT NOT NULL,
    subcategory TEXT,
    
    -- Конфигурация
    required_value INTEGER,
    points INTEGER DEFAULT 0,
    rarity TEXT DEFAULT 'common',
    achievement_level INTEGER DEFAULT 1,
    
    -- Условия доступности
    is_seasonal BOOLEAN DEFAULT FALSE,
    season_duration_days INTEGER,
    min_user_level INTEGER DEFAULT 0,
    required_clan_level INTEGER,
    
    -- Метаданные
    icon_emoji TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    is_active BOOLEAN DEFAULT TRUE
);
```

---

## 🎮 **Примеры игровой механики**

### **Цепочки достижений:**
```
🏰 Путь строителя:
Новичок (ТХ8) → Опытный (ТХ10) → Мастер (ТХ12) → Легенда (ТХ15)
    ↓             ↓               ↓              ↓
  10 очков     25 очков       50 очков     250 очков

🏆 Трофейный путь:
Серебро → Золото → Кристалл → Мастер → Чемпион → Титан → Легенда
  10      25       50         100      150       200     500
```

### **Комбо-достижения:**
```
🌟 Тройная корона: получить достижения по ТХ + Трофеи + Герои
🏆 Военный гений: все боевые + командные достижения
👑 Абсолютный мастер: хотя бы одно из каждой категории
```

### **Сезонные челленджи:**
```
🎄 Новогодний марафон (декабрь):
├─ 🎁 Подарок клану: 1000 донаций за декабрь
├─ ⭐ Звездный дождь: 50 звезд в войнах
├─ 🏆 Чемпион праздников: топ-3 в CWL
└─ 🌟 Новогоднее чудо: все три выше = эксклюзивное достижение
```

Эта система достижений создает многослойную мотивационную структуру, поощряющую различные аспекты игры и сообщества, от индивидуального прогресса до командной работы и долгосрочной лояльности клану.